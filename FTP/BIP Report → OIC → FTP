üìÑ Complete & Simple Documentation: BIP Report ‚Üí OIC ‚Üí FTP (Real-Time Project Flow)
1Ô∏è‚É£ Create the BIP Report (Oracle BI Publisher)

Go to BI Publisher / Reports.

Create a new report.

Attach your data model.

Under the report output formats, ensure default output is CSV.

This is important because OIC must receive the report in CSV.

Note down the Report Absolute Path
Example:

/Custom/Finance/InvoiceReport.xdo

2Ô∏è‚É£ Create Required Connections in OIC
A. SOAP Connection (for calling BIP Report)

Name: ERP_SOAP_RunReport

Enter WSDL URL for the ReportService:

https://<yourERP>/xmlpserver/services/ReportService?wsdl


Enter username & password of ERP user with BI access.

Test and save connection.

B. FTP Connection (for uploading file)

Name: FTP_Write

Provide:

Host / IP Address

Port: 22

SFTP Enabled: Yes

Username / Password

Test and save connection.

3Ô∏è‚É£ Build the Integration in OIC
Step 1: Create Scheduled Integration

Choose Scheduled type.

Provide integration name (Example: Send_Invoice_CSV_to_FTP).

4Ô∏è‚É£ Add SOAP Invoke ‚Äì RunReport

Drag the SOAP connection into the integration.

Name it ‚Üí Run_BIP_Report

Select Operation: runReport

Finish.

Mapping for RunReport

In the mapper:

reportAbsolutePath
‚Üí Enter the absolute path of your report
Example:

/Custom/Finance/InvoiceReport.xdo


sizeOfDataChunkDownload
‚Üí Enter:

-1


(Meaning: download complete file in one shot)

reportParameters
‚Üí If any parameter needed, map it.

Click Validate ‚Üí Close Mapper.

5Ô∏è‚É£ Add Stage File to Store Report Data (Temporary Storage)

Add Stage File after SOAP invoke.

Select Operation: Write File

File Name:

invoice.csv


Output Directory:

/home/user1/oic_files

Should You Provide File Structure?
**üëâ If you know CSV structure ‚Üí create CSV schema.

üëâ If you do NOT know CSV structure (common in real projects) ‚Üí use opaque schema.**

Using Opaque Schema (Most Common Real-Time Method)

When OIC asks:

Do you want to specify structure of the contents of the file?

Choose: Yes

Then Select:

XML Schema Document

Click "Drag & Drop" ‚Üí Choose standard Opaque schema:

Use this schema:

<?xml version='1.0' encoding='UTF-8'?>
<schema targetNamespace="http://xmlns.oracle.com/pcbpel/adapter/opaque/"
        xmlns="http://www.w3.org/2001/XMLSchema">
    <element name="opaqueElement" type="base64Binary" />
</schema>


Finish.

Mapping Stage File (Very Important)

In the mapper:

Source (SOAP Response) ‚Üí

runReportResponse ‚Üí runReportReturn ‚Üí reportBytes


Target ‚Üí

opaqueElement


This means:
You are writing raw bytes (CSV file as base64) to stage.

6Ô∏è‚É£ Add FTP Invoke (Upload to SFTP Server)

Add FTP connection after Stage File.

Name: Write_To_FTP

Operation: Write File

Transfer Mode: Binary (very important for raw bytes)

Directory:

/outbound/invoice/


File Name Pattern:

oracle%sequence%.csv

Specify File Structure?

Choose: NO
Because the stage file already contains raw bytes.

Finish.

7Ô∏è‚É£ FTP Mapping

In this mapper, you map:

A. FileReference

Source:

StageFile ‚Üí Write File ‚Üí ICSFile ‚Üí FileReference


Target:

FTP ‚Üí WriteFile ‚Üí ICSFile ‚Üí FileReference


This means:
The temporary file created by Stage File is sent to FTP.

B. File Name

Source (from StageFile output):

filename


Target:

outboundFTPHeaderType ‚Üí FileName

C. Directory

Target:

outboundFTPHeaderType ‚Üí Directory


Manually enter:

/outbound/invoice/

8Ô∏è‚É£ Validate ‚Üí Save ‚Üí Activate Integration

Click Validate

Click Save

Click Activate

Run integration ‚Üí Monitor instance.

9Ô∏è‚É£ Check Output in WinSCP

Open WinSCP

Connect to your SFTP server

Navigate to:

/outbound/invoice/


You will see file:

oracle1.csv
oracle2.csv
oracle3.csv


(Because of sequence number)

üéâ Final Summary (One Line):

OIC calls BIP via SOAP ‚Üí extracts report bytes ‚Üí writes raw bytes into Stage File (opaque schema) ‚Üí pushes same file into FTP in binary mode ‚Üí final CSV appears in WinSCP.
